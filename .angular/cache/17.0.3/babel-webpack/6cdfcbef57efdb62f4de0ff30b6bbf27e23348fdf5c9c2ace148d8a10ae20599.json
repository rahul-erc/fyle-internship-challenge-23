{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AppComponent = class AppComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.username = '';\n    this.repositories = [];\n    this.loading = false;\n    this.currentPage = 1;\n    this.itemsPerPage = 6;\n    this.totalItems = 0;\n  }\n  searchUser() {\n    this.loading = true;\n    // Fetch user details first\n    const repoDetailsObservable = this.apiService.getRepoDetails(this.username, this.username);\n    if (repoDetailsObservable) {\n      repoDetailsObservable.subscribe(user => {\n        if (user && user.owner) {\n          this.user = user;\n          // Now, fetch all repositories with pagination\n          this.apiService.getUserRepositories(this.username, this.currentPage, this.itemsPerPage).subscribe(repos => {\n            this.repositories = repos;\n            this.loading = false;\n          }, error => {\n            console.error(error);\n            this.loading = false;\n          });\n        } else {\n          console.error('Invalid user data received:', user);\n          this.loading = false;\n        }\n      }, error => {\n        console.error(error);\n        this.loading = false;\n      });\n    } else {\n      console.error('Observable is null or undefined');\n      this.loading = false;\n    }\n  }\n  onPageChange(page) {\n    this.currentPage = page;\n    this.searchUser();\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"names":["Component","AppComponent","constructor","apiService","username","repositories","loading","currentPage","itemsPerPage","totalItems","searchUser","repoDetailsObservable","getRepoDetails","subscribe","user","owner","getUserRepositories","repos","error","console","onPageChange","page","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\eagal\\Downloads\\Fyle-Frontend-development-challenge-main\\Fyle-Frontend-development-challenge-main\\src\\app\\app.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ApiService } from './services/api.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  username: string = '';\n  user: any;\n  location: any;\n  repositories: any[] = [];\n  loading: boolean = false;\n\n  currentPage: number = 1;\n  itemsPerPage: number = 6; \n  totalItems: number = 0;\n  Math: any;\n\n  constructor(private apiService: ApiService) {}\n\n  searchUser(): void {\n    this.loading = true;\n  \n    // Fetch user details first\n    const repoDetailsObservable = this.apiService.getRepoDetails(this.username, this.username);\n  \n    if (repoDetailsObservable) {\n      repoDetailsObservable.subscribe(\n        (user: any) => {\n          if (user && user.owner) {\n            this.user = user;\n  \n            // Now, fetch all repositories with pagination\n            this.apiService.getUserRepositories(this.username, this.currentPage, this.itemsPerPage).subscribe(\n              (repos) => {\n                this.repositories = repos;\n                this.loading = false;\n              },\n              (error) => {\n                console.error(error);\n                this.loading = false;\n              }\n            );\n          } else {\n            console.error('Invalid user data received:', user);\n            this.loading = false;\n          }\n        },\n        (error: any) => {\n          console.error(error);\n          this.loading = false;\n        }\n      );\n    } else {\n      console.error('Observable is null or undefined');\n      this.loading = false;\n    }\n  }\n    \n  onPageChange(page: number): void {\n    this.currentPage = page;\n    this.searchUser();\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,IAAMC,YAAY,GAAlB,MAAMA,YAAY;EAYvBC,YAAoBC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAX9B,KAAAC,QAAQ,GAAW,EAAE;IAGrB,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,OAAO,GAAY,KAAK;IAExB,KAAAC,WAAW,GAAW,CAAC;IACvB,KAAAC,YAAY,GAAW,CAAC;IACxB,KAAAC,UAAU,GAAW,CAAC;EAGuB;EAE7CC,UAAUA,CAAA;IACR,IAAI,CAACJ,OAAO,GAAG,IAAI;IAEnB;IACA,MAAMK,qBAAqB,GAAG,IAAI,CAACR,UAAU,CAACS,cAAc,CAAC,IAAI,CAACR,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC;IAE1F,IAAIO,qBAAqB,EAAE;MACzBA,qBAAqB,CAACE,SAAS,CAC5BC,IAAS,IAAI;QACZ,IAAIA,IAAI,IAAIA,IAAI,CAACC,KAAK,EAAE;UACtB,IAAI,CAACD,IAAI,GAAGA,IAAI;UAEhB;UACA,IAAI,CAACX,UAAU,CAACa,mBAAmB,CAAC,IAAI,CAACZ,QAAQ,EAAE,IAAI,CAACG,WAAW,EAAE,IAAI,CAACC,YAAY,CAAC,CAACK,SAAS,CAC9FI,KAAK,IAAI;YACR,IAAI,CAACZ,YAAY,GAAGY,KAAK;YACzB,IAAI,CAACX,OAAO,GAAG,KAAK;UACtB,CAAC,EACAY,KAAK,IAAI;YACRC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;YACpB,IAAI,CAACZ,OAAO,GAAG,KAAK;UACtB,CAAC,CACF;SACF,MAAM;UACLa,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEJ,IAAI,CAAC;UAClD,IAAI,CAACR,OAAO,GAAG,KAAK;;MAExB,CAAC,EACAY,KAAU,IAAI;QACbC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB,IAAI,CAACZ,OAAO,GAAG,KAAK;MACtB,CAAC,CACF;KACF,MAAM;MACLa,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAC;MAChD,IAAI,CAACZ,OAAO,GAAG,KAAK;;EAExB;EAEAc,YAAYA,CAACC,IAAY;IACvB,IAAI,CAACd,WAAW,GAAGc,IAAI;IACvB,IAAI,CAACX,UAAU,EAAE;EACnB;CACD;AAzDYT,YAAY,GAAAqB,UAAA,EALxBtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWxB,YAAY,CAyDxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}